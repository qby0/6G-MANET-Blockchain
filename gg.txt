Саммари: Алгоритм Блокчейн-ассистированной Маршрутизации в 6G MANET
1. Итоговая цель

Создать "умный" алгоритм маршрутизации для мобильных сетей (MANET) в условиях, приближенных к 6G. Алгоритм должен не просто находить кратчайший путь, но и избегать ненадежных или враждебных узлов (Blackhole атаки), а также нестабильных каналов связи, характерных для миллиметровых волн (mmWave).
2. Архитектура и компоненты

Мы реализовали симуляцию в NS-3 на C++, отказавшись от Python из-за его ограничений. Система состоит из трех ключевых слоев:

A. Физический слой ("6G MANET"):

    Технология: Вместо нестабильного модуля nr, мы используем IEEE 802.11ad (WiGig) на 60 ГГц. Это стандарт, который идеально имитирует физику 6G:

        Высокое затухание сигнала: Моделируется через LogDistancePropagationLossModel с Exponent=3.5 и ReferenceLoss=68dB.

        Направленные антенны (Beamforming): Эффект бимформинга моделируется через добавление высокого усиления антенн (TxGain=30dBi, RxGain=30dBi), что компенсирует затухание и позволяет устанавливать связь на расстоянии ~100-150м.

    Топология: 30 мобильных узлов в области 500x500м с постоянным хаотичным движением (RandomWaypointMobilityModel). Это создает постоянно меняющуюся, непредсказуемую сетевую топологию.

B. Логический слой ("Мозги" системы):

    BlockchainLedger: Это не полноценный блокчейн с криптографией, а его функциональная модель — распределенный и доверенный реестр (in-memory std::map). Он хранит два типа данных о каждом канале связи:

        Качество канала (QoS): Средний показатель "сигнал/шум" (SNR).

        Доверие к узлу (Trust Score): Рейтинг надежности узла от 0.0 до 1.0.

    RoutingEngine: Модуль, который реализует алгоритм Дейкстры для поиска оптимального пути в графе.

C. Управляющий механизм ("SDN-контроллер"):

    Вместо модификации стандартных протоколов (OLSR/AODV), мы использовали подход "Программно-определяемой сети". Центральная логика (SimulationHeartbeat) полностью контролирует маршрутизацию, динамически прописывая статические маршруты (Ipv4StaticRouting) на каждом узле.

3. Алгоритм работы (Цикл "Heartbeat" каждые 100 мс)

Система работает в реальном времени, постоянно адаптируясь к изменениям в сети.

    Сбор данных (Sense): Каждые 100 мс система собирает "сырые" данные с физического уровня симулятора с помощью колбэков (TraceSources):

        Успешно принятые пакеты и их SNR.

        Потерянные пакеты (PhyRxDrop).

    Обновление Леджера (Process): Собранная информация отправляется в BlockchainLedger, который обновляет свою базу данных:

        QoS: Пересчитывается скользящее среднее SNR для каждого канала.

        Trust: Если на канале, связанном с узлом X, процент потерь превышает порог (например, 30%), его Trust Score мгновенно падает до 0.01. Это "наказание" за ненадежность.

    Принятие решения (Decide): RoutingEngine выполняет следующие действия:

        Строит граф сети: На основе физического расположения узлов определяет, кто кого может "услышать" (расстояние < 150м).

        Рассчитывает "стоимость" пути: Для каждого ребра в графе вычисляется вес по формуле:
        Стоимость = (1 / SNR) + (1000 / Trust Score)

        Запускает Дейкстру: Находит путь с минимальной суммарной стоимостью.

    Действие (Act): Рассчитанные маршруты принудительно устанавливаются в IP-таблицы всех узлов сети. Старые маршруты предварительно очищаются.

4. Ключевое отличие от стандартного подхода (Baseline vs. Proposed)

    Baseline (Стандартный): Мы отключаем учет доверия. Формула становится Стоимость = 1 (просто число хопов). Алгоритм ведет себя как обычный AODV/OLSR — ищет самый короткий путь, даже если он ведет через Blackhole.

        Результат: Когда Blackhole попадается на кратчайшем пути, пакеты доходят до него, и он их сбрасывает. PDR резко падает.

    Proposed (Твой алгоритм): Формула работает полностью.

        Когда маршрутизатор рассматривает путь через Blackhole (у которого Trust=0.01), стоимость этого участка становится огромной (1000 / 0.01 = 100,000).

        Дейкстра видит эту "непроходимую стену" и находит другой, пусть и более длинный, но "дешевый" путь в обход.

        Результат: Пакеты идут по безопасному маршруту. PDR остается высоким.

5. Итоги и научный вклад

Симуляция на C++ в стохастических условиях (50 прогонов с разной топологией) показала, что:

    Proposed алгоритм в среднем имеет PDR на ~6% выше, чем Baseline.

    Proposed алгоритм гораздо стабильнее (меньше разброс результатов), и его производительность в худших случаях значительно выше.

    Цена за эту безопасность — незначительное увеличение задержки (в среднем на 0.11 мс), что является приемлемым компромиссом.

Таким образом, работа доказывает, что использование репутационной системы на базе блокчейна позволяет значительно повысить надежность и безопасность MANET-сетей в сложных условиях 6G.